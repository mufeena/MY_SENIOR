<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mentor Dashboard | MentorLink</title>
  <link rel="stylesheet" href="css/dashboard.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo">MentorLink</div>
      <nav>
        <a class="active">Dashboard</a>
        <a onclick="logout()">Logout</a>
      </nav>
    </aside>

    <!-- MAIN -->
    <div class="main">
      <!-- TOP BAR -->
      <header class="topbar">
        <h2>Dashboard</h2>
        <div class="profile-btn" onclick="toggleProfileDrawer()">
          <span id="mentorName">Mentor</span>
        </div>
      </header>

      <!-- CONTENT -->
      <section class="content">
        <!-- SESSION REMINDER -->
        <div class="hero-card live" id="sessionCard">
          <h3>Next Communication Session</h3>
          <p>Date: <strong id="sessionDateView">â€”</strong></p>
          <p>Time: <strong id="sessionTimeView">â€”</strong></p>
          <div class="live-status">
            <span class="dot"></span> 
            <span id="sessionStatus">No session scheduled</span>
          </div>
        </div>

        <!-- GRID -->
        <div class="grid">
          <!-- SCHEDULE SESSION -->
          <div class="card">
            <h4>Schedule Session</h4>
            <input type="date" id="sessionDate">
            <input type="time" id="sessionTime">
            <input type="url" id="meetLink" placeholder="Google Meet link">
            <button onclick="sendSessionLink()">Send to Mentees</button>
          </div>

          <!-- STUDENT PROGRESS WITH FILTERING -->
          <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <h4>Student Progress <span id="groupTaskCount">(0)</span></h4>
              <div style="display: flex; gap: 10px;">
                <input type="text" id="studentFilter" placeholder="ðŸ” Filter by name..." 
                       style="padding: 8px 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px; width: 160px;">
                <select id="statusFilter" style="padding: 8px 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                  <option value="">All Status</option>
                  <option value="completed">Completed</option>
                  <option value="pending">Pending</option>
                  <option value="overdue">Overdue</option>
                </select>
                <button onclick="clearFilters()" style="padding: 8px 12px; background: #64748b; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">Clear</button>
              </div>
            </div>
            <div id="studentProgressList">
              <p style="color: #64748b; font-style: italic;">No tasks assigned yet</p>
            </div>
          </div>

          <!-- MY GROUP -->
          <div class="card">
            <h4>My Group <span id="groupCount">(5)</span></h4>
            <ul class="students" id="studentList">
              <li>Alice Johnson</li>
              <li>Bob Smith</li>
              <li>Carol Davis</li>
              <li>David Wilson</li>
              <li>Eva Brown</li>
            </ul>
          </div>

          <!-- DAILY TASK ASSIGN -->
          <div class="card">
            <h4>Assign Daily Task</h4>
            <input type="text" id="taskTitle" placeholder="Task title (eg: Practice elevator pitch)">
            <input type="date" id="taskDue">
            <button onclick="assignTask()" class="card-button">Assign to Mentees</button>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- PROFILE DRAWER (unchanged) -->
  <div class="profile-drawer" id="profileDrawer">
    <div class="drawer-header">
      <h3>Mentor Profile</h3>
      <span onclick="toggleProfileDrawer()">âœ•</span>
    </div>
    <div class="drawer-body">
      <div id="viewProfile">
        <div class="profile-row"><label>Name</label><p id="viewName">â€”</p></div>
        <div class="profile-row"><label>Email</label><p id="viewEmail">â€”</p></div>
        <div class="profile-row"><label>Department</label><p id="viewDept">â€”</p></div>
        <div class="profile-row"><label>Experience</label><p id="viewExp">â€”</p></div>
        <button class="edit-btn" onclick="enableEdit()">Edit Profile</button>
      </div>
      <div id="editProfile" style="display:none">
        <label>Name</label><input id="editName">
        <label>Department</label><input id="editDept">
        <label>Experience</label><input id="editExp">
        <button onclick="saveProfile()">Save Changes</button>
      </div>
    </div>
  </div>

  <script src="js/dashboard.js"></script>
</body>
</html>
